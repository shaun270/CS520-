Think through the problem step-by-step, briefly outlining the algorithm and edge cases before writing code.
Keep the reasoning concise (3-7 sentences). Then provide the final function.

{{> base_task}}
