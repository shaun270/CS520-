Implement the function. After writing it, run a mental dry-run on at least 3 edge cases.
If an issue is found, revise the code once within the same answer and present ONLY the final corrected function.

{{> base_task}}
